<!DOCTYPE html>
<html>
<head>
    <!-- Standard Meta -->
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0">

    <title>Instant Messaging</title>
    <link rel="stylesheet" href="resources/css/semantic.css">
    <link rel="stylesheet" href="resources/css/custom.css">
</head>
<body>

<!-- upmost level -->
<div class="ui two column grid" style="height: 100%">
    <!-- message room and menu -->
    <div class="four wide left column" style="height: 100%; padding-bottom: 0; padding-right: 0">
        <!-- menu here -->
        <div class="ui vertical fluid large menu" style="height: 100%">
            <div class="item">
                <img id="my-avatar" class="ui small circular image" src="resources/images/default.png">
            </div>
            <div class="item">
                <h2 class="ui header" style="text-align: center">
                    <div id="my-nickname" class="content">
                        <div id="my-signature" class="sub header">---</div>
                    </div>
                </h2>
            </div>
            <div class="item">
                <div id="new-room-button" class="ui primary button">创建房间</div>
                <div id="join-room-button" class="ui green button">加入房间</div>
            </div>
            <div id="room-list">
                <a class="active blue item" data-bind="default-room">
                    <div class="ui teal label">0</div>
                    <i class="world icon"></i>
                    公共聊天室
                </a>
            </div>
        </div>
    </div>
    <!-- message pad here -->
    <div id="room-area" class="twelve wide middle column" style="height: 100%;">
        <!-- room independent panel -->
        <div id="default-room" class="ui vertically grid" style="height: 100%; margin-top: 1px">
            <div class="row" style="height: 25%; width: 100%">
                <div class="column" style="height: 100%; width: 100%;">
                    <div style="width: 100%;overflow: auto">
                        <div class="ui cards user-list" style="width: 100%;height: 190px; overflow: auto">
                            <!-- room users all in here -->

                        </div>
                    </div>
                </div>
            </div>
            <div class="row" style="height: 75%; margin-top: -6px">
                <div class="column" style="height: 100%;">
                    <div class="ui segment message-panel" style="height: 84%; overflow: auto">
                        <!-- message panel -->

                    </div>
                    <div class="ui top attached green progress" data-percent="0" style="display: none;">
                        <div class="bar"></div>
                    </div>
                    <div class="three fluid ui icon buttons" style="height: 8%;">
                        <div data-bind="default-room" class="ui icon button record-button">
                            <i class="play icon"></i>
                            录音
                        </div>
                        <div data-bind="default-room" class="ui icon button share-button">
                            <i class="cloud icon"></i>
                            文件共享
                        </div>
                        <div data-bind="default-room" class="ui icon button video-button">
                            <i class="record icon"></i>
                            视频聊天
                        </div>
                    </div>
                    <div class="ui fluid action huge input" style="height: 8%">
                        <input class="message-field" data-bind="default-room" type="text" placeholder="文字消息">

                        <div class="ui primary button send-button" data-bind="default-room">发送</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<div id="initial" class="ui basic modal">
    <div class="header">
        请填写基本信息
    </div>
    <div class="content">
        <div class="ui error form segment">
            <div class="field">
                <label>昵称</label>
                <input id="nickname-field" placeholder="填写您的昵称" type="text">
            </div>
            <div class="field">
                <label>个人签名</label>
                <input id="signature-field" placeholder="填写您的个人签名" type="text">
            </div>
            <div class="field">
                <label>头像链接</label>
                <input id="avatar-field" type="text" placeholder="填写您的头像图片的链接URL">
            </div>
            <div id="initial-submit-button" class="ui submit disabled purple button">提交数据</div>
        </div>
    </div>

</div>
<div id="new-room" class="ui small modal">
    <i class="close icon"></i>

    <div class="header">
        创建房间
    </div>
    <div class="content">
        <div class="ui form">
            <div class="field">
                <label>房间名称</label>
                <input class="room-name" type="text" placeholder="请输入想要创建的房间的名称">
            </div>
            <div class="field">
                <label>房间密码</label>
                <input class="room-password" type="password" placeholder="请输入想要创建的房间的密码（可选）">
            </div>
        </div>
        <div class="ui black button">
            不建了
        </div>
        <div class="ui green button">
            就这样吧
        </div>
    </div>
</div>

<div id="join-room" class="ui small modal">
    <i class="close icon"></i>

    <div class="header">
        加入房间
    </div>
    <div class="content">
        <div class="ui form">
            <div class="field">
                <label>房间名称</label>
                <input class="room-name" type="text" placeholder="请输入想要加入的房间的名称">
            </div>
            <div class="field">
                <label>房间密码</label>
                <input class="room-password" type="password" placeholder="请输入想要加入的房间的密码（如有需要）">
            </div>
        </div>
        <div class="ui black button">
            不加了
        </div>
        <div class="ui green button">
            就这样加进去
        </div>
    </div>
</div>


<div id="backup-empty-room" class="ui vertically grid" style="height: 100%; margin-top: 1px; display: none">
    <div class="row" style="height: 25%; width: 100%">
        <div class="column" style="height: 100%; width: 100%;">
            <div style="width: 100%;overflow: auto">
                <div class="ui cards user-list" style="width: 100%;height: 190px; overflow: auto">
                    <!-- room users all in here -->

                </div>
            </div>
        </div>
    </div>
    <div class="row" style="height: 75%; margin-top: -6px">
        <div class="column" style="height: 100%;">
            <div class="ui segment message-panel" style="height: 84%; overflow: auto">
                <!-- message panel -->

            </div>
            <div class="ui top attached green progress" data-percent="0" style="display: none;">
                <div class="bar"></div>
            </div>
            <div class="four fluid ui icon buttons" style="height: 8%;">
                <div class="ui icon button record-button">
                    <i class="play icon"></i>
                    录音
                </div>
                <div class="ui icon button share-button">
                    <i class="cloud icon"></i>
                    文件共享
                </div>
                <div class="ui icon button video-button">
                    <i class="record icon"></i>
                    视频语音聊天
                </div>
                <div class="ui icon button leave-button">
                    <i class="sign out icon"></i>
                    退出房间
                </div>
            </div>
            <div class="ui fluid action huge input" style="height: 8%">
                <input class="message-field" type="text" placeholder="文字消息">

                <div class="ui primary button send-button">发送</div>
            </div>
        </div>
    </div>
</div>

<input type="file" id="file" style="display: none;">

<script src="resources/js/vendor/jquery.js"></script>
<script src="resources/js/vendor/semantic.js"></script>
<script src="resources/js/vendor/underscore.js"></script>
<script src="resources/js/vendor/backbone.js"></script>
<script src="resources/js/vendor/socket.io.js"></script>
<script src="resources/js/vendor/socket.io-stream.min.js"></script>
<script src="resources/js/vendor/RecordRTC.js"></script>
<script>
    var initialModal = $('#initial');
    initialModal.modal({
        "closable": true,
        "transition": "shake"
    });
    initialModal.modal('show');

    var newRoomModal = $('#new-room');
    newRoomModal.modal({
        "transition": "browse",
        "onHide": function () {
            $("#new-room").find(".initial-message").remove();
        }
    });
    var joinRoomModal = $('#join-room');
    joinRoomModal.modal({
        "transition": "browse",
        "onHide": function () {
            $("#join-room").find(".initial-message").remove();
        }
    });

    var newRoomButton = $('#new-room-button');
    newRoomButton.on('click', function () {
        newRoomModal.modal('show');
    });

    var joinRoomButton = $('#join-room-button');
    joinRoomButton.on('click', function () {
        joinRoomModal.modal('show');
    });
</script>
<script src="resources/js/initial.js"></script>

</body>
</html>